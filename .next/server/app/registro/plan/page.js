(()=>{var e={};e.id=220,e.ids=[220],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},24654:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=a(70260),r=a(28203),i=a(25155),l=a.n(i),n=a(67292),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(s,o);let c=["",{children:["registro",{children:["plan",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,47355)),"/home/runner/work/MVP-SaludCompartida/MVP-SaludCompartida/src/app/registro/plan/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,71354)),"/home/runner/work/MVP-SaludCompartida/MVP-SaludCompartida/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"]}],d=["/home/runner/work/MVP-SaludCompartida/MVP-SaludCompartida/src/app/registro/plan/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/registro/plan/page",pathname:"/registro/plan",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},20196:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,13219,23)),Promise.resolve().then(a.t.bind(a,34863,23)),Promise.resolve().then(a.t.bind(a,25155,23)),Promise.resolve().then(a.t.bind(a,40802,23)),Promise.resolve().then(a.t.bind(a,9350,23)),Promise.resolve().then(a.t.bind(a,48530,23)),Promise.resolve().then(a.t.bind(a,88921,23))},73348:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,66959,23)),Promise.resolve().then(a.t.bind(a,33875,23)),Promise.resolve().then(a.t.bind(a,88903,23)),Promise.resolve().then(a.t.bind(a,57174,23)),Promise.resolve().then(a.t.bind(a,84178,23)),Promise.resolve().then(a.t.bind(a,87190,23)),Promise.resolve().then(a.t.bind(a,61365,23))},78004:()=>{},30740:()=>{},84543:(e,s,a)=>{Promise.resolve().then(a.bind(a,47355))},78967:(e,s,a)=>{Promise.resolve().then(a.bind(a,92768))},73258:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var t=a(58009),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(e,s)=>{let a=(0,t.forwardRef)(({color:a="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:o,children:c,...d},m)=>(0,t.createElement)("svg",{ref:m,...r,width:l,height:l,stroke:a,strokeWidth:o?24*Number(n)/Number(l):n,className:`lucide lucide-${i(e)}`,...d},[...s.map(([e,s])=>(0,t.createElement)(e,s)),...(Array.isArray(c)?c:[c])||[]]));return a.displayName=`${e}`,a}},35668:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(73258).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24849:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(73258).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},64977:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(73258).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},79334:(e,s,a)=>{"use strict";var t=a(58686);a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},92768:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(45512),r=a(58009),i=a(79334),l=a(24849),n=a(73258);let o=(0,n.A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),c=(0,n.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var d=a(64977);let m=(0,n.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var u=a(35668),x=a(44195);let p=[{id:"basic",name:"Basic",price:12,priceDisplay:"$12",badge:"",features:["Telemedicina 24/7 ilimitada","Descuentos en farmacias (hasta 80%)","Chat m\xe9dico por WhatsApp","1-4 familiares incluidos","Historial m\xe9dico digital","Recetas electr\xf3nicas"]},{id:"premium",name:"Premium",price:18,priceDisplay:"$18",badge:"M\xe1s Popular",features:["Todo lo del plan Basic","Terapia psicol\xf3gica (2 sesiones/mes)","Descuentos en especialistas","Ex\xe1menes de laboratorio","Consultas prioritarias","Descuentos en estudios"]}];function h(){let e=(0,i.useRouter)(),[s,a]=(0,r.useState)("premium"),[n,h]=(0,r.useState)(1),[g,f]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),j=p.find(e=>e.id===s),v=j?.price||0,N=async a=>{a.preventDefault(),f(!0),y("");try{JSON.parse(sessionStorage.getItem("sc_registro_inicial")||"{}");let a=JSON.parse(sessionStorage.getItem("sc_datos_migrante")||"{}"),t=JSON.parse(sessionStorage.getItem("sc_datos_familia")||"{}"),r={suscriptor:{nombre:a.nombreCompleto,email:a.email,telefono:a.telefonoUS,estadoUSA:a.estadoUS},usuarioPrincipal:t.usuarioPrincipal,usuariosAdicionales:t.usuariosAdicionales||[],plan:{id:s,name:j?.name||"",price:v}};console.log("Enviando registro:",r);let i=await fetch("/api/registro",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),l=await i.json();if(!i.ok)throw Error(l.error||"Error al crear el registro");console.log("Registro exitoso:",l),sessionStorage.setItem("sc_registration_id",l.registrationId),sessionStorage.setItem("sc_codigo_familia",l.codigoFamilia),l.checkoutUrl?window.location.href=l.checkoutUrl:e.push(`/dashboard?nuevo=true&codigo=${l.codigoFamilia}`)}catch(e){console.error("Error en registro:",e),y(e instanceof Error?e.message:"Error al procesar el registro")}finally{f(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-sc-gray",children:"SaludCompartida"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Paso 4 de 4"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-sc-cyan rounded-full"}),(0,t.jsx)("div",{className:"flex-1 h-2 bg-sc-cyan rounded-full"}),(0,t.jsx)("div",{className:"flex-1 h-2 bg-sc-cyan rounded-full"}),(0,t.jsx)("div",{className:"flex-1 h-2 bg-sc-cyan rounded-full"})]})]})}),(0,t.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold text-sc-gray mb-3",children:"Elige tu plan"}),(0,t.jsxs)("p",{className:"text-xl text-gray-600",children:["Protecci\xf3n de salud para ",n," ",1===n?"persona":"personas"]})]}),(0,t.jsxs)("form",{onSubmit:N,children:[(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:p.map(e=>{let r=s===e.id;return(0,t.jsxs)("div",{onClick:()=>a(e.id),className:`card-sc cursor-pointer transition-all ${r?"ring-4 ring-sc-cyan shadow-2xl scale-105":"hover:shadow-xl hover:scale-102"}`,children:[e.badge&&(0,t.jsx)("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:(0,t.jsx)("span",{className:"bg-sc-orange text-white px-4 py-1 rounded-full text-sm font-semibold",children:e.badge})}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-sc-gray mb-2",children:e.name}),(0,t.jsxs)("div",{className:"flex items-baseline justify-center gap-1",children:[(0,t.jsx)("span",{className:"text-5xl font-bold text-sc-cyan",children:e.priceDisplay}),(0,t.jsx)("span",{className:"text-gray-600",children:"/mes"})]})]}),(0,t.jsx)("ul",{className:"space-y-3 mb-6",children:e.features.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)(l.A,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${r?"text-sc-cyan":"text-green-500"}`}),(0,t.jsx)("span",{className:"text-gray-700",children:e})]},s))}),(0,t.jsx)("button",{type:"button",onClick:()=>a(e.id),className:`w-full py-3 rounded-lg font-semibold transition-all ${r?"bg-sc-cyan text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r?(0,t.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(l.A,{className:"w-5 h-5"}),"Plan Seleccionado"]}):"Seleccionar Plan"})]},e.id)})}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto card-sc bg-gradient-to-br from-sc-cyan to-blue-600 text-white",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Resumen del Pedido"}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-blue-100",children:"Plan seleccionado:"}),(0,t.jsx)("span",{className:"font-semibold text-xl",children:j?.name})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-blue-100",children:"Personas incluidas:"}),(0,t.jsx)("span",{className:"font-semibold",children:n})]}),(0,t.jsx)("div",{className:"h-px bg-white/20 my-4"}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-2xl",children:[(0,t.jsx)("span",{children:"Cargo mensual:"}),(0,t.jsxs)("span",{className:"font-bold",children:[(0,x.az)(v),"/mes"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-3xl",children:[(0,t.jsx)("span",{children:"Total hoy:"}),(0,t.jsx)("span",{className:"font-bold",children:(0,x.az)(v)})]})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-6 mb-6 pt-6 border-t border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm",children:"Pago Seguro"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm",children:"Cancela cuando quieras"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm",children:"1247+ Familias"})]})]}),b&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg text-red-700 text-sm",children:b}),(0,t.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-white text-sc-cyan py-4 rounded-lg font-bold text-lg hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:g?"Procesando...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{className:"w-6 h-6"}),"Pagar ",(0,x.az)(v)]})}),(0,t.jsx)("p",{className:"text-center text-sm text-blue-100 mt-4",children:"Al continuar, aceptas nuestros t\xe9rminos y condiciones"})]}),(0,t.jsx)("div",{className:"text-center mt-8",children:(0,t.jsxs)("button",{type:"button",onClick:()=>e.back(),className:"btn-outline",disabled:g,children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Volver a editar datos de familia"]})})]}),(0,t.jsxs)("div",{className:"mt-12 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"M\xe9todos de pago aceptados:"}),(0,t.jsxs)("div",{className:"flex justify-center gap-6 items-center flex-wrap",children:[(0,t.jsx)("div",{className:"text-gray-400 font-semibold",children:"Visa"}),(0,t.jsx)("div",{className:"text-gray-400 font-semibold",children:"Mastercard"}),(0,t.jsx)("div",{className:"text-gray-400 font-semibold",children:"American Express"}),(0,t.jsx)("div",{className:"text-gray-400 font-semibold",children:"Apple Pay"}),(0,t.jsx)("div",{className:"text-gray-400 font-semibold",children:"Google Pay"})]})]})]})]})}},44195:(e,s,a)=>{"use strict";function t(e){let s=e.replace(/\D/g,"");return s.length<=3?`+1 ${s}`:s.length<=6?`+1 ${s.slice(0,3)} ${s.slice(3)}`:`+1 ${s.slice(0,3)} ${s.slice(3,6)} ${s.slice(6,10)}`}function r(e){let s=e.replace(/\D/g,"");return s.length<=3?`+52 ${s}`:s.length<=6?`+52 ${s.slice(0,3)} ${s.slice(3)}`:`+52 ${s.slice(0,3)} ${s.slice(3,6)} ${s.slice(6,10)}`}function i(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}a.d(s,{RW:()=>t,az:()=>i,lJ:()=>r})},71354:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i,metadata:()=>r});var t=a(62740);a(61135);let r={title:"SaludCompartida - Salud para tu familia en M\xe9xico",description:"Transforma tus remesas en acceso a salud. Telemedicina 24/7, descuentos en farmacias y m\xe1s para tu familia en M\xe9xico por solo $12-18/mes.",keywords:"remesas, salud, telemedicina, M\xe9xico, migrantes, farmacia, descuentos",authors:[{name:"SaludCompartida"}],openGraph:{title:"SaludCompartida - Salud para tu familia",description:"Cuida a tu familia en M\xe9xico desde Estados Unidos. Telemedicina ilimitada 24/7 y hasta 75% de descuento en farmacias.",url:"https://saludcompartida.app",siteName:"SaludCompartida",locale:"es_MX",type:"website"},twitter:{card:"summary_large_image",title:"SaludCompartida",description:"Salud para tu familia en M\xe9xico"},robots:{index:!0,follow:!0}};function i({children:e}){return(0,t.jsxs)("html",{lang:"es",children:[(0,t.jsxs)("head",{children:[(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,t.jsx)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}),(0,t.jsx)("meta",{name:"theme-color",content:"#06B6D4"})]}),(0,t.jsx)("body",{className:"min-h-screen bg-white antialiased",children:e})]})}},47355:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/MVP-SaludCompartida/MVP-SaludCompartida/src/app/registro/plan/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/MVP-SaludCompartida/MVP-SaludCompartida/src/app/registro/plan/page.tsx","default")},61135:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[638,403],()=>a(24654));module.exports=t})();